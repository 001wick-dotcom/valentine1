<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ‚ù§Ô∏è</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(135deg, #ff416c, #ff4b2b);
        font-family: 'Segoe UI', sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        color: white;
        text-align: center;
    }

    .card {
        background: rgba(255,255,255,0.18);
        backdrop-filter: blur(12px);
        padding: 35px;
        border-radius: 25px;
        box-shadow: 0 30px 60px rgba(0,0,0,0.25);
        max-width: 360px;
        animation: pop 1s ease;
        position: relative;
        z-index: 5;
    }

    @keyframes pop {
        from { transform: scale(0.5); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }

    h1 {
        font-size: 2.3em;
        margin-bottom: 10px;
    }

    #msg {
        font-size: 1.1em;
        margin-bottom: 25px;
        transition: 0.4s;
    }

    button {
        background: white;
        color: #ff2e63;
        border: none;
        padding: 14px 22px;
        font-size: 1em;
        border-radius: 30px;
        cursor: pointer;
        margin: 6px;
        transition: 0.3s;
        position: relative;
    }

    button:hover {
        transform: scale(1.15);
    }

    #noBtn {
        position: absolute;
    }

    .music-btn {
        position: absolute;
        top: -45px;
        right: 0;
        font-size: 14px;
        padding: 6px 12px;
        border-radius: 20px;
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
        pointer-events: none;
    }

    .heart {
        position: absolute;
        bottom: -20px;
        font-size: 22px;
        animation: float 6s linear infinite;
        opacity: 0.9;
        z-index: 2;
    }

    @keyframes float {
        from { transform: translateY(0); }
        to { transform: translateY(-100vh); }
    }
</style>
</head>

<body onclick="startMusic()">

<!-- üéµ Background Music -->
<audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
</audio>

<canvas id="fireworks"></canvas>

<div class="card" id="card">
    <button class="music-btn" onclick="toggleMusic(event)">üéµ Music</button>

    <h1>‚ù§Ô∏è Hey Beautiful ‚ù§Ô∏è</h1>
    <p id="msg">I have something special to ask you ü•∫</p>

    <button id="yesBtn" onclick="yesClick()">Yes üíñ</button>
    <button id="noBtn" onmouseover="moveNo()">No üôà</button>
</div>

<script>
/* ================= MUSIC ================= */
const music = document.getElementById("bgMusic");
let started = false;

function startMusic() {
    if (!started) {
        music.volume = 0.4;
        music.play();
        started = true;
    }
}

function toggleMusic(e) {
    e.stopPropagation();
    music.paused ? music.play() : music.pause();
}

/* ================= NO BUTTON ================= */
const noBtn = document.getElementById("noBtn");
const msg = document.getElementById("msg");
const yesBtn = document.getElementById("yesBtn");

let noCount = 0;
const messages = [
    "Are you sure? ü•∫",
    "Think again üòú",
    "My heart is crying üíî",
    "Pleaseeee ü•π",
    "You know you love me üíï"
];

function moveNo() {
    noCount++;
    msg.innerText = messages[Math.min(noCount - 1, messages.length - 1)];

    const x = Math.random() * 200 - 100;
    const y = Math.random() * 200 - 100;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;

    yesBtn.style.transform = `scale(${1 + noCount * 0.15})`;
}

/* ================= YES CLICK ================= */
function yesClick() {
    document.getElementById("card").innerHTML = `
        <h1>üéÜ Yyyyy..... üéÜ</h1>
        <p>You just made me the happiest ‚ù§Ô∏è</p>
        <h2>Happy Valentine‚Äôs Day üåπ</h2>
    `;
    startFireworks();
    music.play();
}

/* ================= FIREWORKS ================= */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let fireworks = [];

function random(min, max) {
    return Math.random() * (max - min) + min;
}

class Firework {
    constructor() {
        this.x = random(0, canvas.width);
        this.y = canvas.height;
        this.targetY = random(canvas.height * 0.2, canvas.height * 0.5);
        this.color = `hsl(${random(0,360)},100%,60%)`;
        this.exploded = false;
        this.particles = [];
    }
    update() {
        if (!this.exploded) {
            this.y -= 7;
            if (this.y <= this.targetY) {
                this.explode();
                this.exploded = true;
            }
        } else {
            this.particles.forEach(p => p.update());
        }
    }
    draw() {
        if (!this.exploded) {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
            ctx.fill();
        } else {
            this.particles.forEach(p => p.draw());
        }
    }
    explode() {
        for (let i = 0; i < 50; i++) {
            this.particles.push(new Particle(this.x, this.y, this.color));
        }
    }
}

class Particle {
    constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.radius = random(1,3);
        this.speedX = random(-4,4);
        this.speedY = random(-4,4);
        this.life = 60;
    }
    update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.life--;
    }
    draw() {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
    }
}

function startFireworks() {
    setInterval(() => fireworks.push(new Firework()), 600);
    (function animate() {
        ctx.fillStyle = "rgba(0,0,0,0.2)";
        ctx.fillRect(0,0,canvas.width,canvas.height);
        fireworks.forEach((fw, i) => {
            fw.update();
            fw.draw();
            if (fw.exploded && fw.particles.every(p => p.life <= 0)) {
                fireworks.splice(i,1);
            }
        });
        requestAnimationFrame(animate);
    })();
}

/* ================= FLOATING HEARTS ================= */
setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "üíñ";
    heart.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}, 250);
</script>

</body>
</html>
